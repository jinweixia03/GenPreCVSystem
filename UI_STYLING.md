# UI 现代化样式说明

## 概述

本应用程序采用现代化深色主题UI设计，参考ANSA 2025风格，提供专业、简洁、高效的用户界面。

## 主题系统

### 主题类型

- **深色主题** (默认) - 适合长时间工作，减少眼睛疲劳
- **浅色主题** - 适合明亮环境工作

### 主题切换

可以通过以下方式切换主题：
- 视图菜单 → 主题 → 深色主题/浅色主题
- 使用快捷键切换（如果已配置）

## 设计特点

### 1. 深色主题配色方案

| 元素 | 颜色代码 | 说明 |
|------|----------|------|
| 主背景 | `#1E1E1E` | 应用程序主窗口背景 |
| 次级背景 | `#252526` | 面板、停靠窗口背景 |
| 三级背景 | `#2D2D30` | 菜单栏、工具栏背景 |
| 悬停背景 | `#3E3E42` | 鼠标悬停时的背景 |
| 按下背景 | `#094771` | 选中/按下时的背景 |
| 边框 | `#3E3E42` | 边框线条颜色 |
| 文本 | `#CCCCCC` | 主要文本颜色 |
| 禁用文本 | `#6D6D6D` | 禁用状态的文本 |
| 强调色 | `#007ACC` | 主要强调颜色（蓝色） |
| 悬停强调 | `#1E90FF` | 强调色悬停状态 |
| 危险 | `#D13438` | 危险操作（红色） |
| 成功 | `#107C10` | 成功状态（绿色） |
| 警告 | `#FF8C00` | 警告状态（橙色） |

### 2. 组件样式

#### 按钮
- 扁平化设计，无边框或细边框
- 圆角半径：4px
- 内边距：6px 16px
- 悬停效果：背景色变化
- 按下效果：更深色的背景

#### 菜单
- 背景色：`#2D2D30`
- 菜单项内边距：8px 32px 8px 16px
- 选中项背景：`#3E3E42`
- 分隔线颜色：`#3E3E42`

#### 标签页
- 标签页背景：`#1E1E1E`
- 选中标签：背景 `#252526` + 底部蓝色边框
- 关闭按钮：悬停时显示红色背景

#### 停靠窗口
- 标题栏背景：`#2D2D30`
- 边框：1px `#3E3E42`
- 关闭/浮动按钮：悬停效果

#### 滚动条
- 背景色：`#2D2D30`
- 滑块颜色：`#555555`
- 滑块圆角：6px
- 悬停颜色：`#666666`

#### 树视图
- 行高：适中（约6px内边距）
- 悬停背景：`#3E3E42`
- 选中背景：`#094771`
- 圆角：3px

#### 输入框
- 背景：`#1A1A1A`
- 边框：1px `#3E3E42`
- 聚焦边框：蓝色 `#007ACC`
- 圆角：4px
- 内边距：6px 12px

#### 下拉框
- 背景与输入框相同
- 下拉箭头图标
- 下拉列表背景：`#1E1E1E`
- 选中项：蓝色背景 + 白色文本

#### 滑块
- 滑道高度：6px
- 滑块大小：16x16px
- 滑块圆角：8px（完全圆形）
- 滑块颜色：蓝色 `#007ACC`

#### 复选框
- 指示器大小：18x18px
- 边框：2px
- 圆角：3px
- 选中状态：蓝色背景 + 勾选图标

#### 工具提示
- 背景：`#2D2D30`
- 边框：1px `#3E3E42`
- 圆角：4px
- 内边距：6px

### 3. 字体

- 主要字体：`'Segoe UI', 'Microsoft YaHei UI', sans-serif`
- 代码字体：`'Consolas', 'Monaco', monospace`
- 基础字号：9pt

### 4. 间距规范

| 元素 | 间距 |
|------|------|
| 按钮内边距 | 6px 16px |
| 菜单项内边距 | 8px 32px 8px 16px |
| 分组框内边距 | 12px |
| 输入框内边距 | 6px 12px |
| 工具栏按钮 | 6px |

### 5. 圆角规范

| 组件 | 圆角半径 |
|------|----------|
| 按钮 | 4px |
| 输入框 | 4px |
| 标签页 | 4px（顶部） |
| 下拉框 | 4px |
| 滑块 | 8px（完全圆形） |
| 滚动条 | 6px |
| 复选框 | 3px |
| 工具提示 | 4px |
| 分组框 | 6px |
| 菜单 | 6px |

## 使用方式

### 在代码中应用样式

```cpp
#include "styles/thememanager.h"

// 应用默认主题（深色）
UI::ThemeManager::instance()->applyTheme();

// 设置特定主题
UI::ThemeManager::instance()->setTheme(UI::Theme::Dark);
UI::ThemeManager::instance()->setTheme(UI::Theme::Light);

// 切换主题
UI::ThemeManager::instance()->toggleTheme();

// 监听主题变化
connect(UI::ThemeManager::instance(), &UI::ThemeManager::themeChanged,
        [](UI::Theme theme) {
    // 处理主题变化
});
```

### 自定义组件样式

```cpp
#include "styles/modernstyle.h"

// 应用特定组件样式
QPushButton *button = new QPushButton("Click Me");
button->setStyleSheet(UI::ModernStyle::buttonStyle(true));

// 使用特定样式类型
QString lineEditStyle = UI::ModernStyle::lineEditStyle(true);
lineEdit->setStyleSheet(lineEditStyle);
```

## 注意事项

1. **样式优先级**：Qt样式表遵循CSS级联规则，后应用的样式会覆盖先应用的样式
2. **性能考虑**：避免频繁更新整个应用程序的样式表，这会影响性能
3. **自定义绘制**：对于需要自定义绘制的控件，可能需要在paintEvent中手动处理主题
4. **第三方控件**：某些第三方控件可能需要额外的样式处理

## 未来改进

- [ ] 添加自定义主题编辑器
- [ ] 支持主题导入/导出
- [ ] 添加更多预设主题
- [ ] 支持高对比度主题
- [ ] 添加动画过渡效果
